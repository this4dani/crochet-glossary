<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DANI'S - Crochet Stitch Glossary</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap');

    :root {
      --clr-fuchsia: #ff2d82;
      --clr-deep-teal: #005b63;
      --clr-mauve: #d15694;
      --clr-cream: #f6eedc;
      --clr-warm-white: #faf8f3;
      --clr-light-text: #f8f8f8;
      --clr-warm-beige: #e8e0d5;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--clr-deep-teal);
      color: var(--clr-light-text);
      line-height: 1.6;
      padding: 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Navigation */
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 15px 0;
    }

    .home-link {
      color: var(--clr-cream);
      text-decoration: none;
      font-weight: 500;
      opacity: 0.8;
      transition: opacity 0.3s ease;
      font-size: 0.9rem;
    }

    .home-link:hover {
      opacity: 1;
    }

    /* Header - much more compact */
    .header {
      text-align: center;
      margin-bottom: 25px;
      padding: 15px;
    }

    .header h1 {
      font-size: 1.8rem;
      font-weight: 600;
      color: var(--clr-warm-white);
      margin-bottom: 5px;
      background: linear-gradient(135deg, var(--clr-warm-white) 0%, var(--clr-cream) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header p {
      font-size: 0.9rem;
      color: var(--clr-cream);
      opacity: 0.8;
    }

    /* Search section with tips */
    .search-section {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 20px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .tips-toggle {
      background: rgba(250,248,243,0.1);
      border: 1px solid rgba(250,248,243,0.2);
      color: var(--clr-cream);
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      position: relative;
    }

    .tips-toggle:hover {
      background: rgba(255,45,130,0.2);
      border-color: var(--clr-fuchsia);
    }

    .tips-content {
      position: absolute;
      top: 100%;
      left: 0;
      background: var(--clr-warm-white);
      color: #333;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3);
      width: 250px;
      z-index: 100;
      display: none;
      margin-top: 5px;
    }

    .tips-content.show {
      display: block;
    }

    .tips-content p {
      margin: 0 0 8px 0;
      font-size: 0.85rem;
      line-height: 1.4;
    }

    #search {
      width: 100%;
      max-width: 400px;
      padding: 12px 20px;
      border: none;
      border-radius: 20px;
      background: var(--clr-warm-white);
      color: #333;
      font-size: 0.95rem;
      box-shadow: 0 3px 10px rgba(0,0,0,0.15);
    }

    #search::placeholder {
      color: #666;
    }

    #search:focus {
      outline: none;
      box-shadow: 0 4px 20px rgba(255,45,130,0.3);
    }

    /* Grid */
    #glossary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 16px;
      margin-bottom: 60px;
    }

    /* Cards */
    .stitch-card {
      background: var(--clr-warm-beige);
      border-radius: 8px;
      padding: 20px 12px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      height: 80px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    .stitch-card:hover {
      background: var(--clr-cream);
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(0,0,0,0.2);
    }

    /* Abbreviation display */
    .stitch-card .abbr {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--clr-deep-teal);
      display: block;
    }

    .stitch-card .name {
      font-size: 0.85rem;
      color: var(--clr-mauve);
      display: none;
      line-height: 1.2;
    }

    .stitch-card:hover .abbr {
      display: none;
    }

    .stitch-card:hover .name {
      display: block;
    }

    /* Popup modal */
    .popup {
      position: fixed;
      inset: 0;
      display: none;
      align-items: center;
      justify-content: center;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(5px);
      z-index: 1000;
    }

    .popup.active {
      display: flex;
    }

    .popup-inner {
      background: var(--clr-warm-white);
      border-radius: 15px;
      padding: 30px;
      max-width: 500px;
      width: 90%;
      position: relative;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
      color: #333;
    }

    .popup-close {
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 24px;
      background: none;
      border: none;
      color: var(--clr-mauve);
      cursor: pointer;
    }

    .popup h2 {
      color: var(--clr-deep-teal);
      margin-bottom: 15px;
      font-size: 1.8rem;
    }

    .popup .uk-name {
      color: var(--clr-mauve);
      font-size: 1.1rem;
      margin-bottom: 15px;
      font-style: italic;
    }

    .popup .description {
      color: #555;
      line-height: 1.6;
      margin-bottom: 15px;
    }

    .popup .tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 20px;
    }

    .popup .tag {
      background: var(--clr-cream);
      color: var(--clr-deep-teal);
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 0.85rem;
      font-weight: 500;
    }

    /* Mobile responsive */
    @media (max-width: 600px) {
      #glossary-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 12px;
      }

      .stitch-card {
        height: 70px;
        padding: 15px 8px;
      }

      .header h1 {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <nav class="nav">
      <a href="https://this4dani.github.io/" class="btn btn-primary">Back to Home</a>
      <div></div>
    </nav>

    <header class="header">
      <h1>DANI'S Interactive Crochet Stitch Glossary</h1>
      <p>Where Traditional Craft Meets Modern Technology</p>
    </header>

    <div class="search-section">
      <div class="tips-toggle" onclick="toggleTips()">
        Tips & Tricks â–¼
        <div class="tips-content" id="tips-content">
          <p><strong>Browse:</strong> Scroll through all stitches</p>
          <p><strong>Search:</strong> Type abbreviation or full name</p>
          <p><strong>Hover:</strong> See full stitch name</p>
          <p><strong>Click:</strong> View detailed popup with US/UK terms</p>
        </div>
      </div>
      <input type="text" id="search" placeholder="Try 'single', 'dc', or 'texture'...">
    </div>

    <div id="glossary-grid"></div>
  </div>

  <!-- Popup Modal -->
  <div class="popup" id="popup">
    <div class="popup-inner">
      <button class="popup-close" onclick="closePopup()">&times;</button>
      <h2 id="popup-title"></h2>
      <div class="uk-name" id="popup-uk"></div>
      <div class="description" id="popup-description"></div>
      <div class="tags" id="popup-tags"></div>
    </div>
  </div>

  <script>
    // Sample data for testing - replace with your full glossarydata.js
    const stitchGlossary = [
      {
        id: "sc",
        name_us: "Single Crochet",
        name_uk: "Double Crochet",
        tags: ["basic", "foundation"],
        notes: "Foundation stitch, often used in amigurumi."
      },
      {
        id: "dc",
        name_us: "Double Crochet",
        name_uk: "Treble Crochet",
        tags: ["basic", "tall"],
        notes: "Taller than single crochet, used for height and drape."
      },
      {
        id: "hdc",
        name_us: "Half Double Crochet",
        name_uk: "Half Treble Crochet",
        tags: ["basic", "medium"],
        notes: "Shorter than double crochet but with more height than single crochet."
      },
      {
        id: "tr",
        name_us: "Treble Crochet",
        name_uk: "Double Treble Crochet",
        tags: ["tall", "advanced"],
        notes: "Used for tall rows and lacy fabric."
      },
      {
        id: "slst",
        name_us: "Slip Stitch",
        name_uk: "Slip Stitch",
        tags: ["basic", "joining"],
        notes: "Used for joining, moving across stitches, or finishing."
      },
      {
        id: "ch",
        name_us: "Chain Stitch",
        name_uk: "Chain Stitch",
        tags: ["basic", "foundation"],
        notes: "Starting point for most crochet projects."
      },
      {
        id: "fpdc",
        name_us: "Front Post Double Crochet",
        name_uk: "Front Post Treble Crochet",
        tags: ["post", "texture", "intermediate"],
        notes: "Used for ribbing or textured surfaces."
      },
      {
        id: "bpdc",
        name_us: "Back Post Double Crochet",
        name_uk: "Back Post Treble Crochet",
        tags: ["post", "texture", "intermediate"],
        notes: "Used with FPDC to create ribs or cables."
      },
      {
        id: "mr",
        name_us: "Magic Ring",
        name_uk: "Magic Ring",
        tags: ["amigurumi", "foundation"],
        notes: "Adjustable loop technique for starting projects in the round."
      },
      {
        id: "pop",
        name_us: "Popcorn Stitch",
        name_uk: "Popcorn Stitch",
        tags: ["texture", "3d", "advanced"],
        notes: "Creates a puffed, round shape that stands out."
      },
      {
        id: "vst",
        name_us: "V-Stitch",
        name_uk: "V-Stitch",
        tags: ["pattern", "decorative"],
        notes: "Two stitches worked in the same space, forming a V-shape."
      },
      {
        id: "shell",
        name_us: "Shell Stitch",
        name_uk: "Shell Stitch",
        tags: ["pattern", "decorative"],
        notes: "Multiple stitches worked into one space to create a fan shape."
      }
    ];

    const grid = document.getElementById('glossary-grid');
    const popup = document.getElementById('popup');
    const searchInput = document.getElementById('search');

    // Render all cards
    function renderCards(stitches = stitchGlossary) {
      grid.innerHTML = '';
      
      stitches.forEach(stitch => {
        const card = document.createElement('div');
        card.className = 'stitch-card';
        card.innerHTML = `
          <div class="abbr">${stitch.id.toUpperCase()}</div>
          <div class="name">${stitch.name_us}</div>
        `;
        
        card.addEventListener('click', () => openPopup(stitch));
        grid.appendChild(card);
      });
    }

    // Open popup with stitch details
    function openPopup(stitch) {
      document.getElementById('popup-title').textContent = stitch.name_us;
      document.getElementById('popup-uk').textContent = `UK: ${stitch.name_uk}`;
      document.getElementById('popup-description').textContent = stitch.notes || 'No description available.';
      
      // Render tags
      const tagsContainer = document.getElementById('popup-tags');
      tagsContainer.innerHTML = '';
      if (stitch.tags) {
        stitch.tags.forEach(tag => {
          const tagEl = document.createElement('span');
          tagEl.className = 'tag';
          tagEl.textContent = tag;
          tagsContainer.appendChild(tagEl);
        });
      }
      
      popup.classList.add('active');
    }

    // Close popup
    window.closePopup = function() {
      popup.classList.remove('active');
    };

    // Toggle tips dropdown
    window.toggleTips = function() {
      const tipsContent = document.getElementById('tips-content');
      tipsContent.classList.toggle('show');
    };

    // Close tips when clicking outside
    document.addEventListener('click', function(e) {
      const tipsToggle = document.querySelector('.tips-toggle');
      const tipsContent = document.getElementById('tips-content');
      if (!tipsToggle.contains(e.target)) {
        tipsContent.classList.remove('show');
      }
    });

    // Search functionality
    searchInput.addEventListener('input', function() {
      const query = this.value.toLowerCase();
      const filtered = stitchGlossary.filter(stitch => 
        stitch.name_us.toLowerCase().includes(query) ||
        stitch.name_uk.toLowerCase().includes(query) ||
        stitch.id.toLowerCase().includes(query) ||
        (stitch.tags && stitch.tags.some(tag => tag.toLowerCase().includes(query)))
      );
      renderCards(filtered);
    });

    // Close popup on outside click
    popup.addEventListener('click', function(e) {
      if (e.target === popup) {
        closePopup();
      }
    });

    // Close popup on escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closePopup();
      }
    });

    // Initial render
    renderCards();
  </script>
</body>
</html>